# ======================
# OpenClash å•æ–‡ä»¶åŸºç¡€é…ç½®
# åŒ…å«ä¸¤ä¸ªæ—è·¯ç”±èŠ‚ç‚¹åŠå¸¸è§åˆ†æµè§„åˆ™
# ======================

# æ ¸å¿ƒç«¯å£ä¸æ¨¡å¼
port: 7890
socks-port: 7891
allow-lan: false
mode: rule
log-level: info
external-controller: 127.0.0.1:9090

# ä»£ç†èŠ‚ç‚¹åˆ—è¡¨ (é™æ€å®šä¹‰)
proxies:
  - name: æ—è·¯ç”±_251
    type: socks5
    server: 192.168.10.251
    port: 7893
  - name: æ—è·¯ç”±_252
    type: socks5
    server: 192.168.10.252
    port: 7893

# ä»£ç†ç»„
proxy-groups:
  - name: PROXY # é»˜è®¤ä»£ç†ç»„ (æ‰€æœ‰è§„åˆ™å°†æŒ‡å‘æ­¤ç»„)
    type: select
    proxies:
      - ğŸš€ è‡ªåŠ¨é€‰æ‹©
      - DIRECT
      - æ—è·¯ç”±_251
      - æ—è·¯ç”±_252

  - name: ğŸš€ è‡ªåŠ¨é€‰æ‹© # è‡ªåŠ¨æµ‹è¯•å¹¶é€‰æ‹©æœ€ä½³èŠ‚ç‚¹
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    proxies:
      - æ—è·¯ç”±_251
      - æ—è·¯ç”±_252

  - name: ğŸ›‘ å¹¿å‘Šæ‹¦æˆª
    type: select
    proxies:
      - REJECT
      - DIRECT

# ====================== åˆ†æµè§„åˆ™ ======================
# è§„åˆ™é¡ºåºï¼šä»ä¸Šåˆ°ä¸‹åŒ¹é…ï¼ŒåŒ¹é…å³åœæ­¢ã€‚
# 1. ç›´è¿è§„åˆ™ (å›½å†…æœåŠ¡ã€å±€åŸŸç½‘)
# 2. ä»£ç†è§„åˆ™ (å›½å¤–æœåŠ¡ã€è¢«å±è”½æœåŠ¡)
# 3. å¹¿å‘Šè§„åˆ™ (å¹¿å‘Š)
# 4. æœ€ç»ˆå…œåº•
# ===================================================
rules:
  # 1. åŸºç¡€ç›´è¿è§„åˆ™ï¼ˆå±€åŸŸç½‘ã€å›½å†…åŸŸå/IPã€ä¸‹è½½ï¼‰
  - RULE-SET,LocalAreaNetwork,DIRECT
  - RULE-SET,ChinaDomain,DIRECT
  - RULE-SET,ChinaCompanyIp,DIRECT
  - RULE-SET,Download,DIRECT

  # 2. å›½å†…åª’ä½“ä¸æœåŠ¡ (ç›´è¿)
  - RULE-SET,ChinaMedia,DIRECT
  - RULE-SET,Bilibili,DIRECT
  - RULE-SET,BilibiliHMT,DIRECT
  - RULE-SET,NetEaseMusic,DIRECT
  - RULE-SET,GoogleCN,DIRECT
  - RULE-SET,SteamCN,DIRECT

  # 3. å¹¿å‘Šæ‹¦æˆª (ç›´è¿æˆ–æ‹¦æˆªï¼Œselecté€‰æ‹©)
  - RULE-SET,UnBan,ğŸ›‘ å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,BanAD,ğŸ›‘ å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,BanProgramAD,ğŸ›‘ å¹¿å‘Šæ‹¦æˆª

  # 4. å›½å¤–æœåŠ¡ä¸éœ€ä»£ç†åª’ä½“ (å…¨éƒ¨æŒ‡å‘ PROXY)
  - RULE-SET,GoogleFCM,PROXY
  - RULE-SET,Bing,PROXY
  - RULE-SET,OneDrive,PROXY
  - RULE-SET,Microsoft,PROXY
  - RULE-SET,Apple,PROXY
  - RULE-SET,Telegram,PROXY
  - RULE-SET,AI,PROXY
  - RULE-SET,OpenAi,PROXY
  - RULE-SET,Epic,PROXY
  - RULE-SET,Origin,PROXY
  - RULE-SET,Sony,PROXY
  - RULE-SET,Steam,PROXY
  - RULE-SET,Nintendo,PROXY
  - RULE-SET,YouTube,PROXY
  - RULE-SET,Netflix,PROXY
  - RULE-SET,Bahamut,PROXY
  - RULE-SET,ProxyMedia,PROXY
  - RULE-SET,ProxyGFWlist,PROXY

  # 5. åœ°ç†IPä¸æœ€ç»ˆå…œåº•è§„åˆ™
  - GEOIP,CN,DIRECT
  - MATCH,PROXY

# è§„åˆ™æä¾›è€… (ä¿æŒä¸å˜)
rule-providers:
  LocalAreaNetwork:
    type: http
    behavior: classical
    url: "https://api.asailor.org/getruleset?type=6&url=aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0FDTDRTU1IvQUNMNFNTUi9tYXN0ZXIvQ2xhc2gvTG9jYWxBcmVhTmV0d29yay5saXN0"
    path: ./providers/7156953299935574564.yaml
    interval: 86400
  UnBan:
    type: http
    behavior: classical
    url: "https://api.asailor.org/getruleset?type=6&url=aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0FDTDRTU1IvQUNMNFNTUi9tYXN0ZXIvQ2xhc2gvVW5CYW4ubGlzdA"
    path: ./providers/7573362162235439048.yaml
    interval: 86400
  BanAD:
    type: http
    behavior: classical
    url: "https://api.asailor.org/getruleset?type=6&url=aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0FDTDRTU1IvQUNMNFNTUi9tYXN0ZXIvQ2xhc2gvQmFuQUQubGlzdA"
    path: ./providers/5345470858595246832.yaml
    interval: 86400
  BanProgramAD:
    type: http
    behavior: classical
    url: "https://api.asailor.org/getruleset?type=6&url=aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0FDTDRTU1IvQUNMNFNTUi9tYXN0ZXIvQ2xhc2gvQmFuUHJvZ3JhbUFELmxpc3Q"
    path: ./providers/12627286518854712958.yaml
    interval: 86400
  GoogleFCM:
    type: http
    behavior: classical
    url: "https://api.asailor.org/getruleset?type=6&url=aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0FDTDRTU1IvQUNMNFNTUi9tYXN0ZXIvQ2xhc2gvUnVsZXNldC9Hb29nbGVGQ00ubGlzdA"
    path: ./providers/13526767378282193442.yaml
    interval: 86400
  GoogleCN:
    type: http
    behavior: classical
    url: "https://api.asailor.org/getruleset?type=6&url=aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0FDTDRTU1IvQUNMNFNTUi9tYXN0ZXIvQ2xhc2gvR29vZ2xlQ04ubGlzdA"
    path: ./providers/18094093153187793194.yaml
    interval: 86400
  SteamCN:
    type: http
    behavior: classical
    url: "https://api.asailor.org/getruleset?type=6&url=aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0FDTDRTU1IvQUNMNFNTUi9tYXN0ZXIvQ2xhc2gvUnVsZXNldC9TdGVhbUNOLmxpc3Q"
    path: ./providers/9218514496462299588.yaml
    interval: 86400
  Bing:
    type: http
    behavior: classical
    url: "https://api.asailor.org/getruleset?type=6&url=aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0FDTDRTU1IvQUNMNFNTUi9tYXN0ZXIvQ2xhc2gvQmluZy5saXN0"
    path: ./providers/17784654422352058730.yaml
    interval: 86400
  OneDrive:
    type: http
    behavior: classical
    url: "https://api.asailor.org/getruleset?type=6&url=aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0FDTDRTU1IvQUNMNFNTUi9tYXN0ZXIvQ2xhc2gvT25lRHJpdmUubGlzdA"
    path: ./providers/11441598284839060820.yaml
    interval: 86400
  Microsoft:
    type: http
    behavior: classical
    url: "https://api.asailor.org/getruleset?type=6&url=aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0FDTDRTU1IvQUNMNFNTUi9tYXN0ZXIvQ2xhc2gvTWljcm9zb2Z0Lmxpc3Q"
    path: ./providers/10538434793549721944.yaml
    interval: 86400
  Apple:
    type: http
    behavior: classical
    url: "https://api.asailor.org/getruleset?type=6&url=aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0FDTDRTU1IvQUNMNFNTUi9tYXN0ZXIvQ2xhc2gvQXBwbGUubGlzdA"
    path: ./providers/14560487744959213540.yaml
    interval: 86400
  Telegram:
    type: http
    behavior: classical
    url: "https://api.asailor.org/getruleset?type=6&url=aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0FDTDRTU1IvQUNMNFNTUi9tYXN0ZXIvQ2xhc2gvVGVsZWdyYW0ubGlzdA"
    path: ./providers/6502624741183612233.yaml
    interval: 86400
  AI:
    type: http
    behavior: classical
    url: "https://api.asailor.org/getruleset?type=6&url=aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0FDTDRTU1IvQUNMNFNTUi9tYXN0ZXIvQ2xhc2gvUnVsZXNldC9BSS5saXN0"
    path: ./providers/7329684518282624683.yaml
    interval: 86400
  OpenAi:
    type: http
    behavior: classical
    url: "https://api.asailor.org/getruleset?type=6&url=aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0FDTDRTU1IvQUNMNFNTUi9tYXN0ZXIvQ2xhc2gvUnVsZXNldC9PcGVuQWkubGlzdA"
    path: ./providers/3258957679647165343.yaml
    interval: 86400
  NetEaseMusic:
    type: http
    behavior: classical
    url: "https://api.asailor.org/getruleset?type=6&url=aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0FDTDRTU1IvQUNMNFNTUi9tYXN0ZXIvQ2xhc2gvUnVsZXNldC9OZXRFYXNlTXVzaWMubGlzdA"
    path: ./providers/15200902571451284617.yaml
    interval: 86400
  Epic:
    type: http
    behavior: classical
    url: "https://api.asailor.org/getruleset?type=6&url=aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuC29tL0FDTDRTU1IvQUNMNFNTUi9tYXN0ZXIvQ2xhc2gvUnVsZXNldC9FcGljLmxpc3Q"
    path: ./providers/2002866050337731182.yaml
    interval: 86400
  Origin:
    type: http
    behavior: classical
    url: "https://api.asailor.org/getruleset?type=6&url=aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0FDTDRTU1IvQUNMNFNTUi9tYXN0ZXIvQ2xhc2gvUnVsZXNldC9PcmlnaW4ubGlzdA"
    path: ./providers/8760189456110913115.yaml
    interval: 86400
  Sony:
    type: http
    behavior: classical
    url: "https://api.asailor.org/getruleset?type=6&url=aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0FDTDRTU1IvQUNMNFNTUi9tYXN0ZXIvQ2xhc2gvUnVsZXNldC9Tb255Lmxpc3Q"
    path: ./providers/6043895292220349504.yaml
    interval: 86400
  Steam:
    type: http
    behavior: classical
    url: "https://api.asailor.org/getruleset?type=6&url=aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0FDTDRTU1IvQUNMNFNTUi9tYXN0ZXIvQ2xhc2gvUnVsZXNldC9TdGVhbS5saXN0"
    path: ./providers/1173690015095316719.yaml
    interval: 86400
  Nintendo:
    type: http
    behavior: classical
    url: "https://api.asailor.org/getruleset?type=6&url=aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0FDTDRTU1IvQUNMNFNTUi9tYXN0ZXIvQ2xhc2gvUnVsZXNldC9OaW50ZW5kby5saXN0"
    path: ./providers/8436305167591952502.yaml
    interval: 86400
  YouTube:
    type: http
    behavior: classical
    url: "https://api.asailor.org/getruleset?type=6&url=aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0FDTDRTU1IvQUNMNFNTUi9tYXN0ZXIvQ2xhc2gvUnVsZXNldC9Zb3VUdWJlLmxpc3Q"
    path: ./providers/6665783339279527800.yaml
    interval: 86400
  Netflix:
    type: http
    behavior: classical
    url: "https://api.asailor.org/getruleset?type=6&url=aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0FDTDRTU1IvQUNMNFNTUi9tYXN0ZXIvQ2xhc2gvUnVsZXNldC9OZXRmbGl4Lmxpc3Q"
    path: ./providers/6953567076524950087.yaml
    interval: 86400
  Bahamut:
    type: http
    behavior: classical
    url: "https://api.asailor.org/getruleset?type=6&url=aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0FDTDRTU1IvQUNMNFNTUi9tYXN0ZXIvQ2xhc2gvUnVsZXNldC9CYWhhbXV0Lmxpc3Q"
    path: ./providers/3972157704973231643.yaml
    interval: 86400
  BilibiliHMT:
    type: http
    behavior: classical
    url: "https://api.asailor.org/getruleset?type=6&url=aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0FDTDRTU1IvQUNMNFNTUi9tYXN0ZXIvQ2xhc2gvUnVsZXNldC9CaWxpYmlsaUhNVC5saXN0"
    path: ./providers/8993805089376963824.yaml
    interval: 86400
  Bilibili:
    type: http
    behavior: classical
    url: "https://api.asailor.org/getruleset?type=6&url=aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0FDTDRTU1IvQUNMNFNTUi9tYXN0ZXIvQ2xhc2gvUnVsZXNldC9CaWxpYmlsaS5saXN0"
    path: ./providers/6602777030040451893.yaml
    interval: 86400
  ChinaMedia:
    type: http
    behavior: classical
    url: "https://api.asailor.org/getruleset?type=6&url=aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0FDTDRTU1IvQUNMNFNTUi9tYXN0ZXIvQ2xhc2gvQ2hpbmFNZWRpYS5saXN0"
    path: ./providers/6311591946191099983.yaml
    interval: 86400
  ProxyMedia:
    type: http
    behavior: classical
    url: "https://api.asailor.org/getruleset?type=6&url=aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0FDTDRTU1IvQUNMNFNTUi9tYXN0ZXIvQ2xhc2gvUHJveHlNZWRpYS5saXN0"
    path: ./providers/11865208451954205364.yaml
    interval: 86400
  ProxyGFWlist:
    type: http
    behavior: classical
    url: "https://api.asailor.org/getruleset?type=6&url=aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0FDTDRTU1IvQUNMNFNTUi9tYXN0ZXIvQ2xhc2gvUHJveHlHRldsaXN0Lmxpc3Q"
    path: ./providers/1518598190744914170.yaml
    interval: 86400
  ChinaDomain:
    type: http
    behavior: classical
    url: "https://api.asailor.org/getruleset?type=6&url=aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0FDTDRTU1IvQUNMNFNTUi9tYXN0ZXIvQ2xhc2gvQ2hpbmFEb21haW4ubGlzdA"
    path: ./providers/4162648423616508953.yaml
    interval: 86400
  ChinaCompanyIp:
    type: http
    behavior: classical
    url: "https://api.asailor.org/getruleset?type=6&url=aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0FDTDRTU1IvQUNMNFNTUi9tYXN0ZXIvQ2xhc2gvQ2hpbmFDb21wYW55SXAubGlzdA"
    path: ./providers/2560834305431378741.yaml
    interval: 86400
  Download:
    type: http
    behavior: classical
    url: "https://api.asailor.org/getruleset?type=6&url=aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0FDTDRTU1IvQUNMNFNTUi9tYXN0ZXIvQ2xhc2gvRG93bmxvYWQubGlzdA"
    path: ./providers/892107463922605120.yaml
    interval: 86400

# DNSè®¾ç½®
dns:
  enable: true
  listen: 0.0.0.0:7874
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  nameserver:
    - 114.114.114.114
    - 223.5.5.5